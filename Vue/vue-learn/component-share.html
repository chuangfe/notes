<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style></style>
  </head>
  <body>
    <div id="vm">
      <input type="text" v-model="title" />
      <input type="button" value="按鈕" @click="clickHandler" />
      <p>{{shareState.title}}</p>
    </div>

    <hr />

    <div id="app">
      <input type="text" v-model="title" />
      <input type="button" value="按鈕" @click="clickHandler" />
      <p>{{shareState.title}}</p>
    </div>
  </body>
</html>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js"
  integrity="sha512-YXLGLsQBiwHPHLCAA9npZWhADUsHECjkZ71D1uzT2Hpop82/eLnmFb6b0jo8pK4T0Au0g2FETrRJNblF/46ZzQ=="
  crossorigin="anonymous"
></script>

<script>
  // 不使用 vuex 時, 官方提供多個 vm 或多個 component 資料共用的方法.

  const stor = {
    debug: true,
    state: {
      title: "Hello World",
    },
    setTitle(val) {
      this.state.title = val;
    },
  };

  const vm = new Vue({
    el: "#vm",
    data: {
      title: "Vm",
      shareState: stor.state,
    },
    computed: {},
    methods: {
      clickHandler() {
        stor.setTitle(this.title);
      },
    },
  });

  const app = new Vue({
    el: "#app",
    data: {
      title: "App",
      shareState: stor.state,
    },
    computed: {},
    methods: {
      clickHandler() {
        stor.setTitle(this.title);
      },
    },
  });
</script>
