<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      h3 {
        width: 100%;
        height: 40px;
        background-color: #eee;
        display: inline-block;
      }
    </style>
    <style>
      /* 進場前的樣式 */
      .fade-enter {
        opacity: 0;
      }
      /* 進場過程中的動畫 */
      .fade-enter-active {
        transition: opacity 0.4s ease-out;
      }
      /* 進場結束的樣式 */
      .fade-enter-to {
        opacity: 1;
      }
      /* 離場前的樣式 */
      .fade-leave {
        opacity: 1;
      }
      /* 離場過程中的動畫 */
      .fade-leave-active {
        transition: opacity 0.4s ease-out;
      }
      /* 離場結束的樣式 */
      .fade-leave-to {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <router-link to="/index">Index</router-link>
      <router-link to="/about">About</router-link>
      <hr />
      <!-- mode="out-in" 代表離開結束, 下一個才能進入 -->
      <transition name="fade" mode="out-in">
        <router-view></router-view>
      </transition>
    </div>
  </body>
</html>

<template id="index-template">
  <div>
    <h3>Index</h3>
  </div>
</template>

<template id="about-template">
  <div>
    <h3>About</h3>
  </div>
</template>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js"
  integrity="sha512-YXLGLsQBiwHPHLCAA9npZWhADUsHECjkZ71D1uzT2Hpop82/eLnmFb6b0jo8pK4T0Au0g2FETrRJNblF/46ZzQ=="
  crossorigin="anonymous"
></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.5.1/vue-router.js"
  integrity="sha512-mQKtM7fSv7pIQ6r4Jqe7c7K3QKEa1G+qNp0o9ohfGNeTT7pl85our+sPlSkzogl1oChZj75zhq9HGAj7Pf4Wjw=="
  crossorigin="anonymous"
></script>

<script>
  /**
   * router 配合 transition.
   */

  const Index = {
    template: "#index-template",
  };

  const About = {
    template: "#about-template",
  };

  const router = new VueRouter({
    routes: [
      {
        path: "/index",
        name: "index",
        components: {
          default: Index,
        },
      },
      {
        path: "/about",
        name: "about",
        components: {
          default: About,
        },
      },
    ],
  });

  const vm = new Vue({
    el: "#app",
    data: {},
    computed: {},
    methods: {},
    // 註冊 router 的實體
    router,
  });
</script>
